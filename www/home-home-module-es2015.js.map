{"version":3,"sources":["./src/app/home/home.page.html","./src/app/home/home.module.ts","./src/app/home/home.page.scss","./src/app/home/home.page.ts","./src/app/services/login.service.ts"],"names":[],"mappings":"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","file":"home-home-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>\\n      {{loginTitle}}\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content >\\n  <div class=\\\"generalScreen\\\" padding>\\n      <ion-card class=\\\"loginForm\\\">\\n          <ion-card-header>\\n            <ion-card-title>{{formTitle}}</ion-card-title>\\n          </ion-card-header>\\n        \\n          <ion-card-content>\\n              <form #loginForm=\\\"ngForm\\\" (ngSubmit)=\\\"login()\\\" padding>\\n                  <ion-list>\\n                      <ion-item>\\n                        <ion-label floating><ion-icon name=\\\"mail\\\"  item-start></ion-icon>Email</ion-label>\\n                        <ion-input type=\\\"email\\\" [(ngModel)]=\\\"email\\\" id=\\\"email\\\" name=\\\"email\\\" required placeholder=\\\"bob@email.com\\\" text-lowercase aria-describedby=\\\"emailHelpInline\\\">\\n                        </ion-input>\\n                      </ion-item>\\n              \\n                      <ion-item>\\n                          <ion-label floating><ion-icon name=\\\"key\\\" item-start></ion-icon>Password</ion-label>\\n                          <ion-input type=\\\"password\\\"  [(ngModel)]=\\\"password\\\" name=\\\"password\\\" required placeholder=\\\"password\\\"></ion-input>\\n                        </ion-item>        \\n                    </ion-list>\\n                 <!--\\n                      <div padding>\\n                      <button ion-button  color=\\\"primary\\\" block large  type=\\\"submit\\\">Login</button> \\n                    </div>-->\\n                  </form>\\n          </ion-card-content>\\n          \\n            <div class=\\\"ion-padding\\\" *ngIf=\\\"showBtn\\\">\\n              <ion-button expand=\\\"block\\\" (click)=\\\"login()\\\" type=\\\"submit\\\" class=\\\"ion-no-margin\\\">Login</ion-button>\\n            </div>\\n          \\n        </ion-card>\\n  </div>\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { IonicModule } from '@ionic/angular';\nimport { FormsModule } from '@angular/forms';\nimport { RouterModule } from '@angular/router';\n\nimport { HomePage } from './home.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild([\n      {\n        path: '',\n        component: HomePage\n      }\n    ])\n  ],\n  declarations: [HomePage]\n})\nexport class HomePageModule {}\n","module.exports = \".loginScreen {\\n  height: 100%;\\n  background-image: url('bank_home_bg.jpg');\\n  background-repeat: repeat-y;\\n  background-size: cover;\\n}\\n\\n.loginForm {\\n  margin-top: 20vh;\\n  text-align: center;\\n  background: #dbe7f1;\\n  color: #000000;\\n  height: auto;\\n}\\n\\n.bottom-form {\\n  margin-bottom: 5px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL21pY2hhZWxva2kvRGV2L0NvcmRvdmFQcm9qZWN0cy9teVNtYXJ0QmFuay9zcmMvYXBwL2hvbWUvaG9tZS5wYWdlLnNjc3MiLCJzcmMvYXBwL2hvbWUvaG9tZS5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxZQUFBO0VBQ0EseUNBQUE7RUFDQSwyQkFBQTtFQUNBLHNCQUFBO0FDQ0o7O0FERUE7RUFDSSxnQkFBQTtFQUNBLGtCQUFBO0VBQ0EsbUJBQUE7RUFDQSxjQUFBO0VBQ0EsWUFBQTtBQ0NKOztBREVBO0VBQ0ksa0JBQUE7QUNDSiIsImZpbGUiOiJzcmMvYXBwL2hvbWUvaG9tZS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubG9naW5TY3JlZW4ge1xuICAgIGhlaWdodDogMTAwJTtcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJy4uLy4uL2Fzc2V0cy9pbWdzL2JhbmtfaG9tZV9iZy5qcGcnKTtcbiAgICBiYWNrZ3JvdW5kLXJlcGVhdDogcmVwZWF0LXk7XG4gICAgYmFja2dyb3VuZC1zaXplOiBjb3Zlcjtcbn1cblxuLmxvZ2luRm9ybSB7XG4gICAgbWFyZ2luLXRvcDogMjB2aDtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgYmFja2dyb3VuZDogI2RiZTdmMTtcbiAgICBjb2xvcjogIzAwMDAwMDtcbiAgICBoZWlnaHQ6IGF1dG87XG59XG5cbi5ib3R0b20tZm9ybSB7XG4gICAgbWFyZ2luLWJvdHRvbTogNXB4O1xufVxuIiwiLmxvZ2luU2NyZWVuIHtcbiAgaGVpZ2h0OiAxMDAlO1xuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCIuLi8uLi9hc3NldHMvaW1ncy9iYW5rX2hvbWVfYmcuanBnXCIpO1xuICBiYWNrZ3JvdW5kLXJlcGVhdDogcmVwZWF0LXk7XG4gIGJhY2tncm91bmQtc2l6ZTogY292ZXI7XG59XG5cbi5sb2dpbkZvcm0ge1xuICBtYXJnaW4tdG9wOiAyMHZoO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGJhY2tncm91bmQ6ICNkYmU3ZjE7XG4gIGNvbG9yOiAjMDAwMDAwO1xuICBoZWlnaHQ6IGF1dG87XG59XG5cbi5ib3R0b20tZm9ybSB7XG4gIG1hcmdpbi1ib3R0b206IDVweDtcbn0iXX0= */\"","import { Component, DoCheck } from '@angular/core';\nimport { LoginService } from '../services/login.service';\nimport { MessageService } from '../services/message.service';\nimport { Subscription } from 'rxjs';\nimport { Router, NavigationExtras } from '@angular/router';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: 'home.page.html',\n  styleUrls: ['home.page.scss'],\n})\n\nexport class HomePage implements DoCheck {\n  message: any;\n  subscription: Subscription;\n  loadingMessage: String;\n  \n  constructor(private loginService: LoginService,private messageService: MessageService,\n    public router: Router) {\n    this.subscription = this.messageService.getMessage().subscribe(message => {\n      this.message = message;\n      if(message!==undefined) {\n        try {\n        let responseObject = JSON.parse(message.text._body);\n        if(responseObject.registered) {\n          localStorage.setItem('tokens', JSON.stringify(responseObject));\n          this.messageService.stopLoader();\n          this.openDashboard(responseObject);\n        } else {\n          this.messageService.presentAlert('User is not registered','Oops!');\n        }\n      } finally{}\n      }\n    });\n  }\n\n  openDashboard(dataObject) {\n      const navigationExtras: NavigationExtras = {\n        state: {\n          id: dataObject.localId,\n          idToken: dataObject.idToken,\n          refreshToken: dataObject.refreshToken,\n        }\n      };\n\n      this.router.navigate(['/dashboard'], navigationExtras);\n      this.messageService.clearMessage();\n  }\n\n  validatePassword(password) {\n    let passw = /^[A-Za-z]\\w{7,14}$/;\n    if (password.match(passw)) {}\n  }\n\n  ngDoCheck() {\n    if(this.email!=undefined ){\n      let regexp = new RegExp(/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/);\n\n      if (regexp.test(this.email) && this.password == 'password') {\n          this.showBtn = true;\n      }\n    }\n  }\n\n  private loginTitle = \"Digital Banking\";\n  private formTitle = \"Enter your details below\";\n  email: any;\n  password: any;\n  private showBtn = false;\n\n  private login() {\n    this.loadingMessage = \"Signing in...\";\n    this.messageService.Loader(this.loadingMessage);\n    this.loginService.signIn(this.email.trim(),this.password.trim());\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient,HttpHeaders} from  '@angular/common/http';\nimport { Http } from '@angular/http';\n//import {Subscription} from 'rxjs';\nimport { MessageService } from './message.service';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LoginService {\n  API_URL  =  'https://www.googleapis.com/identitytoolkit/v3/relyingparty/verifyPassword?key=AIzaSyAR4Yezxk7Ao4qeFntu7tIvE7pH28Eh64Y';\n  private loginResponse:any;\n  //private subscription: Subscription;\n\n  constructor(private  httpClient:  HttpClient,public http: Http,\n    private messageService: MessageService) { }\n\n  signIn(email,password) {\n    this.http.post(`${this.API_URL}`,{\n        \"email\":email,\n        \"password\":password,\n        \"returnSecureToken\": true\n    })\n    .subscribe(\n        (val) => {   \n                 this.sendMessage(val);               \n        },\n        response => {   \n            this.sendMessage(response);           \n        },\n        () => {\n            console.log(\"The POST observable is now completed.\");\n        });        \n  }\n  sendMessage(message): void {\n    this.messageService.sendMessage(message);\n  }\n\n  clearMessage(): void {\n    this.messageService.clearMessage();\n  }\n}\n"],"sourceRoot":""}